(window.webpackJsonp=window.webpackJsonp||[]).push([[327],{1130:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(1166);a.default=function(e){const[a,t]=Object(n.useState)(!1),[l,o]=Object(n.useState)(!1);localStorage.getItem("arco-lang");return s.a.createElement("span",{style:e.style,className:"markdown-body"},s.a.createElement(c.a,null,s.a.createElement("title",null,"Mock Data | ArcoDesign"),s.a.createElement("meta",{name:"description",content:"Intercept ajax and return simulated data"}),s.a.createElement("meta",{property:"og:title",content:"Mock Data | ArcoDesign"}),s.a.createElement("meta",{property:"og:description",content:"Intercept ajax and return simulated data"})),s.a.createElement("div",{className:"ac-nav-intro"},s.a.createElement("p",null,"Arco Pro"),s.a.createElement("h1",{id:"mock-data"},"Mock Data"),s.a.createElement("p",null,"Intercept ajax and return simulated data")),s.a.createElement("p",null,s.a.createElement("em",null,"Auto translate by google.")),s.a.createElement("h2",{id:"solution"},"Solution"),s.a.createElement("p",null,"Parallel development of front and back ends means that the front end needs to be developed without interface data. In this case, if the function of simulating data requests can be provided, our data request code can be written normally. Pro uses Mock.js to achieve This feature."),s.a.createElement("p",null,"Mock.js will intercept the ajax request. If there is a matching mock rule, the ajax will not be sent out, but the mock data will be returned. Mock.js has a wealth of simulation data generation methods, it is recommended to read the document first, the document is very clear and easy to understand ",s.a.createElement("a",{href:"http://mockjs.com/"},"MockJs document"),"."),s.a.createElement("pre",{className:"code_block"},s.a.createElement("code",{className:"language-js"},s.a.createElement("span",{className:"token keyword module"},"import")," ",s.a.createElement("span",{className:"token imports"},s.a.createElement("span",{className:"token maybe-class-name"},"Mock"))," ",s.a.createElement("span",{className:"token keyword module"},"from"),s.a.createElement("span",{className:"token string"},"'mockjs'"),s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("span",{className:"token maybe-class-name"},"Mock"),s.a.createElement("span",{className:"token punctuation"},"."),s.a.createElement("span",{className:"token method function property-access"},"mock"),s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token keyword"},"new")," ",s.a.createElement("span",{className:"token class-name"},"RegExp"),s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token string"},"'/api/chatList'"),s.a.createElement("span",{className:"token punctuation"},")"),s.a.createElement("span",{className:"token punctuation"},",")," ",s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token punctuation"},")")," ",s.a.createElement("span",{className:"token arrow operator"},"=>")," ",s.a.createElement("span",{className:"token punctuation"},"{"),s.a.createElement("br",null),"  ",s.a.createElement("span",{className:"token keyword"},"const")," data ",s.a.createElement("span",{className:"token operator"},"=")," ",s.a.createElement("span",{className:"token maybe-class-name"},"Mock"),s.a.createElement("span",{className:"token punctuation"},"."),s.a.createElement("span",{className:"token method function property-access"},"mock"),s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token punctuation"},"{"),s.a.createElement("br",null),"    ",s.a.createElement("span",{className:"token string"},"'data|4-6'"),s.a.createElement("span",{className:"token operator"},":")," ",s.a.createElement("span",{className:"token punctuation"},"["),s.a.createElement("br",null),"      ",s.a.createElement("span",{className:"token punctuation"},"{"),s.a.createElement("br",null),"        ",s.a.createElement("span",{className:"token string"},"'id|+1'"),s.a.createElement("span",{className:"token operator"},":")," ",s.a.createElement("span",{className:"token number"},"1"),s.a.createElement("span",{className:"token punctuation"},","),s.a.createElement("br",null),"        username",s.a.createElement("span",{className:"token operator"},":"),s.a.createElement("span",{className:"token string"},"'User 7352772'"),s.a.createElement("span",{className:"token punctuation"},","),s.a.createElement("br",null),"        content",s.a.createElement("span",{className:"token operator"},":"),s.a.createElement("span",{className:"token string"},"'It will start soon, so excited! '"),s.a.createElement("span",{className:"token punctuation"},","),s.a.createElement("br",null),"        time",s.a.createElement("span",{className:"token operator"},":")," ",s.a.createElement("span",{className:"token string"},"'13:09:12'"),s.a.createElement("span",{className:"token punctuation"},","),s.a.createElement("br",null),"        ",s.a.createElement("span",{className:"token string"},"'isCollect|2'"),s.a.createElement("span",{className:"token operator"},":")," ",s.a.createElement("span",{className:"token boolean"},"true"),s.a.createElement("span",{className:"token punctuation"},","),s.a.createElement("br",null),"      ",s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},","),s.a.createElement("br",null),"    ",s.a.createElement("span",{className:"token punctuation"},"]"),s.a.createElement("span",{className:"token punctuation"},","),s.a.createElement("br",null),"  ",s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},")"),s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),s.a.createElement("br",null),"  ",s.a.createElement("span",{className:"token keyword control-flow"},"return")," data",s.a.createElement("span",{className:"token punctuation"},"."),s.a.createElement("span",{className:"token property-access"},"data"),s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},")"),s.a.createElement("span",{className:"token punctuation"},";"))),s.a.createElement("p",null,"When the url sent by the client is matched by ",s.a.createElement("code",null,"new RegExp('/api/chatList')"),", Mock.js will intercept the request, execute the corresponding callback function, and return the data returned in the callback function."),s.a.createElement("blockquote",null,s.a.createElement("p",null,"Note: Requests that are matched and intercepted by Mock.js will not appear in the network panel of the developer tools.")),s.a.createElement("h2",{id:"close-mock"},"Close Mock"),s.a.createElement("p",null,"In order to facilitate the opening and closing of the data simulation function, each ",s.a.createElement("code",null,"Mock")," will be wrapped by ",s.a.createElement("code",null,"setupMock.setup"),", setupMock is as follows:"),s.a.createElement("pre",{className:"code_block"},s.a.createElement("code",{className:"language-js"},s.a.createElement("span",{className:"token keyword module"},"export")," ",s.a.createElement("span",{className:"token keyword module"},"default")," ",s.a.createElement("span",{className:"token keyword"},"function")," ",s.a.createElement("span",{className:"token function"},"setupMock"),s.a.createElement("span",{className:"token punctuation"},"("),"config",s.a.createElement("span",{className:"token operator"},":")," ",s.a.createElement("span",{className:"token punctuation"},"{"),s.a.createElement("br",null),"  mock",s.a.createElement("span",{className:"token operator"},"?"),s.a.createElement("span",{className:"token operator"},":")," boolean",s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),"  ",s.a.createElement("span",{className:"token function-variable function"},"setup"),s.a.createElement("span",{className:"token operator"},":")," ",s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token punctuation"},")")," ",s.a.createElement("span",{className:"token arrow operator"},"=>")," ",s.a.createElement("span",{className:"token keyword"},"void"),s.a.createElement("br",null),s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},")")," ",s.a.createElement("span",{className:"token punctuation"},"{"),s.a.createElement("br",null),"  ",s.a.createElement("span",{className:"token keyword"},"const")," ",s.a.createElement("span",{className:"token punctuation"},"{"),"mock ",s.a.createElement("span",{className:"token operator"},"=")," ",s.a.createElement("span",{className:"token operator"},"!"),"__PRODUCTION__",s.a.createElement("span",{className:"token punctuation"},",")," setup",s.a.createElement("span",{className:"token punctuation"},"}")," ",s.a.createElement("span",{className:"token operator"},"=")," config",s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),s.a.createElement("br",null),"  ",s.a.createElement("span",{className:"token keyword control-flow"},"if")," ",s.a.createElement("span",{className:"token punctuation"},"("),"mock ",s.a.createElement("span",{className:"token operator"},"===")," ",s.a.createElement("span",{className:"token boolean"},"false"),s.a.createElement("span",{className:"token punctuation"},")")," ",s.a.createElement("span",{className:"token keyword control-flow"},"return"),s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),s.a.createElement("br",null),"  ",s.a.createElement("span",{className:"token function"},"setup"),s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token punctuation"},")"),s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},";"))),s.a.createElement("p",null,"Data simulation is started by default in a non-production environment. When we need to debug the interface, we only need to set the mock parameter of setupMock to false, as follows:"),s.a.createElement("pre",{className:"code_block"},s.a.createElement("code",{className:"language-js"},s.a.createElement("span",{className:"token keyword module"},"import")," ",s.a.createElement("span",{className:"token imports"},s.a.createElement("span",{className:"token maybe-class-name"},"Mock"))," ",s.a.createElement("span",{className:"token keyword module"},"from"),s.a.createElement("span",{className:"token string"},"'mockjs'"),s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),s.a.createElement("span",{className:"token keyword module"},"import")," ",s.a.createElement("span",{className:"token imports"},"setupMock")," ",s.a.createElement("span",{className:"token keyword module"},"from"),s.a.createElement("span",{className:"token string"},"'../utils/setupMock'"),s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("span",{className:"token function"},"setupMock"),s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token punctuation"},"{"),s.a.createElement("br",null),"  mock",s.a.createElement("span",{className:"token operator"},":")," ",s.a.createElement("span",{className:"token boolean"},"false"),s.a.createElement("br",null),"  ",s.a.createElement("span",{className:"token function"},"setup"),s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token punctuation"},")")," ",s.a.createElement("span",{className:"token punctuation"},"{"),s.a.createElement("br",null),"    ",s.a.createElement("span",{className:"token comment"},"// User Info"),s.a.createElement("br",null),"    ",s.a.createElement("span",{className:"token maybe-class-name"},"Mock"),s.a.createElement("span",{className:"token punctuation"},"."),s.a.createElement("span",{className:"token method function property-access"},"mock"),s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token keyword"},"new")," ",s.a.createElement("span",{className:"token class-name"},"RegExp"),s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token string"},"'/api/userInfo'"),s.a.createElement("span",{className:"token punctuation"},")"),s.a.createElement("span",{className:"token punctuation"},",")," ",s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token punctuation"},")")," ",s.a.createElement("span",{className:"token arrow operator"},"=>")," ",s.a.createElement("span",{className:"token punctuation"},"{"),s.a.createElement("br",null),"      ",s.a.createElement("span",{className:"token keyword control-flow"},"return")," ",s.a.createElement("span",{className:"token punctuation"},"{"),s.a.createElement("br",null),"        name",s.a.createElement("span",{className:"token operator"},":"),s.a.createElement("span",{className:"token string"},"'name'"),s.a.createElement("span",{className:"token punctuation"},","),s.a.createElement("br",null),"      ",s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),"    ",s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},")"),s.a.createElement("span",{className:"token punctuation"},";"),s.a.createElement("br",null),"  ",s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},","),s.a.createElement("br",null),s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},")"),s.a.createElement("span",{className:"token punctuation"},";"))))}}}]);