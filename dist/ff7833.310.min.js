(window.webpackJsonp=window.webpackJsonp||[]).push([[310],{1147:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(1166);a.default=function(e){const[a,t]=Object(n.useState)(!1),[s,r]=Object(n.useState)(!1);localStorage.getItem("arco-lang");return l.a.createElement("span",{style:e.style,className:"markdown-body"},l.a.createElement(c.a,null,l.a.createElement("title",null,"发布物料 | ArcoDesign"),l.a.createElement("meta",{name:"description",content:"了解物料的发布流程。"}),l.a.createElement("meta",{property:"og:title",content:"发布物料 | ArcoDesign"}),l.a.createElement("meta",{property:"og:description",content:"了解物料的发布流程。"})),l.a.createElement("div",{className:"ac-nav-intro"},l.a.createElement("p",null,"物料平台"),l.a.createElement("h1",{id:"发布物料"},"发布物料"),l.a.createElement("p",null,"了解物料的发布流程。")),l.a.createElement("p",null,"首先，需要明确的是物料以 NPM 包的形式存在，托管在 NPM 上，而物料平台仅仅是将你的物料信息进行汇总后将其展示，并提供更好的团队协作和物料共享的能力。"),l.a.createElement("p",null,l.a.createElement("strong",null,"注意"),"：只有 NPM 包的 owner 才能发布和进行物料信息同步。",l.a.createElement("br",null),l.a.createElement("strong",null,"注意"),"：发布到 NPM 的时候，要确保远程仓库有 push 权限并且为 NPM 包的 maintainer。"),l.a.createElement("h2",{id:"发布至-npm"},"发布至 NPM"),l.a.createElement("p",null,"在完成物料的开发、测试之后，你就可以将其发布至 NPM 了，你可以选择手动使用 ",l.a.createElement("code",null,"npm publish")," 来发包，或者使用 arco-scripts 提供的 ",l.a.createElement("code",null,"arco publish")," 命令，此命令将发包流程大大简化。"),l.a.createElement("pre",null,l.a.createElement("code",null,"arco publish")),l.a.createElement("p",null,l.a.createElement("code",null,"arco publish")," 会弹出下拉选项选择需要发布的版本（严格按照 Semver 规范生成的版本选择）。"),l.a.createElement("h2",{id:"初始化物料信息"},"初始化物料信息"),l.a.createElement("p",null,"此命令将会在项目根目录中生成 ",l.a.createElement("code",null,"arcoMeta.json")," 文件，字段如下："),l.a.createElement("pre",null,l.a.createElement("code",null,"{",l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"private"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token boolean"},"false"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"name"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'"@arco-design/hello-arco"'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"title"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'"Arco 示例物料"'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"description"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'""'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"type"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'"react-component"'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"category"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token punctuation"},"["),l.a.createElement("span",{className:"token string"},'"其他"'),l.a.createElement("span",{className:"token punctuation"},"]"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"group"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token number"},"0"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"homepage"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'""'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"repository"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'""'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"author"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'"arco"'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token string"},'"package"'),l.a.createElement("span",{className:"token punctuation"},":")," ","{",l.a.createElement("br",null),"    ",l.a.createElement("span",{className:"token string"},'"type"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'"npm"'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"    ",l.a.createElement("span",{className:"token string"},'"name"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'""'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"    ",l.a.createElement("span",{className:"token string"},'"version"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'""'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"    ",l.a.createElement("span",{className:"token string"},'"registry"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token string"},'""'),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"    ",l.a.createElement("span",{className:"token string"},'"peerDependencies"'),l.a.createElement("span",{className:"token punctuation"},":")," ",l.a.createElement("span",{className:"token punctuation"},"["),l.a.createElement("span",{className:"token punctuation"},"]"),l.a.createElement("br",null),"  ","}",l.a.createElement("br",null),"}")),l.a.createElement("p",null,"在 Lerna 项目中，你可以在任何目录下的任何目录执行 ",l.a.createElement("code",null,"arco generate")," 命令。"),l.a.createElement("h2",{id:"同步物料信息"},"同步物料信息"),l.a.createElement("p",null,"在首次发布至 NPM 或者修改了 ",l.a.createElement("code",null,"arco.meta.json")," 字段时，你需要运行以下命令将其同步至物料平台。"),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-bash"},"arco ",l.a.createElement("span",{className:"token function"},"sync"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"# 在同步前自动生成截图"),l.a.createElement("br",null),"arco ",l.a.createElement("span",{className:"token function"},"sync")," --screenshot")),l.a.createElement("p",null,"在 Lerna 项目中，你可以在任何目录下的任何目录执行 ",l.a.createElement("code",null,"arco sync")," 命令。"),l.a.createElement("h2",{id:"指定物料版本"},"指定物料版本"),l.a.createElement("p",null,"物料信息同步成功之后，会自动补充 ",l.a.createElement("code",null,"arcoMeta.json")," 中的 NPM 包相关信息。通过 ",l.a.createElement("code",null,"package.version")," 字段可以指定物料平台使用的物料版本，以下为 ",l.a.createElement("code",null,"version")," 字段的两种不同写法："),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("code",null,"latest"),": 传入 dist-tags，使用这种方式可以避免每次发版之后都需要手动同步物料信息，使用 ",l.a.createElement("code",null,"npm view")," 可以查看当前可用的 dist-tags；"),l.a.createElement("li",null,l.a.createElement("code",null,"1.0.0"),": 传入具体版本号，每次 NPM 发版之后需要手动执行 ",l.a.createElement("code",null,"arco sync")," 以更新版本号。")),l.a.createElement("h2",{id:"发布前-demo-预览"},"发布前 Demo 预览"),l.a.createElement("p",null,"执行 ",l.a.createElement("code",null,"arco preview")," 命令预览物料详情页，你可以在确保一切合乎预期之后再执行 NPM 发包，工具将会从当前文件夹启动文件服务器，物料网站将尝试从本地获取 ",l.a.createElement("code",null,"dist")," 和 ",l.a.createElement("code",null,"docs/README.md")," 文件。"))}}}]);