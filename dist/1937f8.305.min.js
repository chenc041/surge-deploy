(window.webpackJsonp=window.webpackJsonp||[]).push([[305],{1140:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(1166);a.default=function(e){const[a,t]=Object(n.useState)(!1),[s,o]=Object(n.useState)(!1);localStorage.getItem("arco-lang");return l.a.createElement("span",{style:e.style,className:"markdown-body"},l.a.createElement(c.a,null,l.a.createElement("title",null,"Build | ArcoDesign"),l.a.createElement("meta",{name:"description",content:"Understand the development and construction of material projects."}),l.a.createElement("meta",{property:"og:title",content:"Build | ArcoDesign"}),l.a.createElement("meta",{property:"og:description",content:"Understand the development and construction of material projects."})),l.a.createElement("div",{className:"ac-nav-intro"},l.a.createElement("p",null,"Material Market"),l.a.createElement("h1",{id:"build"},"Build"),l.a.createElement("p",null,"Understand the development and construction of material projects.")),l.a.createElement("p",null,l.a.createElement("em",null,"Auto translate by google.")),l.a.createElement("p",null,l.a.createElement("em",null,"This article is based on the project created by Arco's official material template")),l.a.createElement("h2",{id:"component-construction"},"Component construction"),l.a.createElement("p",null,"The arco-scripts build command has built-in component JS, icons, and style building functions. Normally, you only need to build everything with the following command:"),l.a.createElement("pre",null,l.a.createElement("code",null,"arco",l.a.createElement("span",{className:"token operator"},"-"),"scripts build",l.a.createElement("span",{className:"token punctuation"},":"),"component")),l.a.createElement("p",null,"Through ",l.a.createElement("code",null,"build:component"),", the ES/CommonJS/UMD version of the JS file will be built, and the style file will be packaged. If there is an icon folder in the project, the icon will be built. ",l.a.createElement("code",null,"build:component")," is the sum of all the following commands. Most of the time you don't need to use the following subcommands, but understanding these commands will help you understand the entire project structure:"),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-bash"},l.a.createElement("span",{className:"token comment"},"# Build the corresponding ES module-tsc"),l.a.createElement("br",null),"arco-scripts build:component:es",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"# Build CommonJS module-tsc"),l.a.createElement("br",null),"arco-scripts build:component:cjs",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"# Build UMD output-Webpack"),l.a.createElement("br",null),"arco-scripts build:component:dist",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"# Style construction-gulp-less"),l.a.createElement("br",null),"arco-scripts build:component:css",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"# Icon build (if any)-Webpack"),l.a.createElement("br",null),"arco-scripts build:icon")),l.a.createElement("h2",{id:"writing-demo"},l.a.createElement("strong",null,"Writing Demo")),l.a.createElement("p",null,"In order to test the function of the component and get started quickly for others, you need to provide at least one demo for your component. You should write these demos in the ",l.a.createElement("code",null,"/src/demo/")," directory. The content of a standard Demo file is as follows:"),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-jsx"},l.a.createElement("span",{className:"token comment"},"// /src/demo/basic.jsx"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword module"},"import")," ",l.a.createElement("span",{className:"token imports"},l.a.createElement("span",{className:"token maybe-class-name"},"React"))," ",l.a.createElement("span",{className:"token keyword module"},"from"),l.a.createElement("span",{className:"token string"},"'react'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword module"},"import")," ",l.a.createElement("span",{className:"token imports"},l.a.createElement("span",{className:"token maybe-class-name"},"TooltipButton"))," ",l.a.createElement("span",{className:"token keyword module"},"from"),l.a.createElement("span",{className:"token string"},"'@arco-design/rc-hello-arco'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword module"},"export")," ",l.a.createElement("span",{className:"token keyword module"},"default")," ",l.a.createElement("span",{className:"token punctuation"},"("),l.a.createElement("span",{className:"token punctuation"},")")," ",l.a.createElement("span",{className:"token arrow operator"},"=>")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token keyword control-flow"},"return")," ",l.a.createElement("span",{className:"token tag"},l.a.createElement("span",{className:"token tag"},l.a.createElement("span",{className:"token punctuation"},"<"),l.a.createElement("span",{className:"token class-name"},"TooltipButton"))," ",l.a.createElement("span",{className:"token attr-name"},"title"),l.a.createElement("span",{className:"token attr-value"},l.a.createElement("span",{className:"token punctuation attr-equals"},"="),l.a.createElement("span",{className:"token punctuation"},'"'),"tooltip title",l.a.createElement("span",{className:"token punctuation"},'"')),l.a.createElement("span",{className:"token punctuation"},">")),l.a.createElement("span",{className:"token maybe-class-name"},"Demo")," ",l.a.createElement("span",{className:"token maybe-class-name"},"Basic"),l.a.createElement("span",{className:"token tag"},l.a.createElement("span",{className:"token tag"},l.a.createElement("span",{className:"token punctuation"},"</"),l.a.createElement("span",{className:"token class-name"},"TooltipButton")),l.a.createElement("span",{className:"token punctuation"},">")),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("span",{className:"token punctuation"},";"))),l.a.createElement("p",null,"In the Demo entry file, add a material description and a demo description. This information will be extracted and displayed on the material platform."),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-javascript"},l.a.createElement("span",{className:"token comment"},"// /src/demo/index.js"),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"/**",l.a.createElement("br",null)," * @file",l.a.createElement("br",null)," * @name The name of the group, for example: EmployeeSelect",l.a.createElement("br",null)," * @memberOf component type, for example: data input",l.a.createElement("br",null)," * @description describes your component",l.a.createElement("br",null)," */"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"/**",l.a.createElement("br",null)," * @name basic usage",l.a.createElement("br",null)," * @description describe your example",l.a.createElement("br",null)," */"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword module"},"export")," ",l.a.createElement("span",{className:"token exports"},l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("span",{className:"token keyword module"},"default")," ",l.a.createElement("span",{className:"token keyword module"},"as")," ",l.a.createElement("span",{className:"token maybe-class-name"},"Basic"),l.a.createElement("span",{className:"token punctuation"},"}"))," ",l.a.createElement("span",{className:"token keyword module"},"from"),l.a.createElement("span",{className:"token string"},"'./basic'"),l.a.createElement("span",{className:"token punctuation"},";"))),l.a.createElement("p",null,"You can add multiple Demo files. After adding Demo, you need to add it in the ",l.a.createElement("code",null,"/src/demo/index.js")," entry so that it can be previewed in Storybook. All the demos you write will be extracted into the document before ",l.a.createElement("code",null,"npm publish"),", and will be used for real-time preview of materials."),l.a.createElement("h2",{id:"demo-dependency"},l.a.createElement("strong",null,"Demo dependency")),l.a.createElement("p",null,"Since the material platform takes the form of rendering Demo at runtime, by default you can only introduce the following dependencies in the Demo code, which have been injected into the runtime environment by default:"),l.a.createElement("ul",null,l.a.createElement("li",null,"react"),l.a.createElement("li",null,"react-dom"),l.a.createElement("li",null,"react-router-dom"),l.a.createElement("li",null,"lodash"),l.a.createElement("li",null,"date-fns"),l.a.createElement("li",null,"@bytedesign/web-react"),l.a.createElement("li",null,"@arco-design/web-react"),l.a.createElement("li",null,"NPM package corresponding to the material itself")),l.a.createElement("p",null,"If dependencies other than the above must be introduced to ensure the normal operation of Demo, we provide a special way to meet this demand. Follow the steps below:"),l.a.createElement("ol",null,l.a.createElement("li",null,"Create a new ",l.a.createElement("code",null,"/src/demo/arcoDemoVendor.js")," file, and export the required dependencies from this file.")),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-javascript"},l.a.createElement("span",{className:"token comment"},"// arcoDemoVendor.js"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword module"},"export")," ",l.a.createElement("span",{className:"token exports"},l.a.createElement("span",{className:"token punctuation"},"{"),"myDependency",l.a.createElement("span",{className:"token punctuation"},"}"))," ",l.a.createElement("span",{className:"token keyword module"},"from"),l.a.createElement("span",{className:"token string"},"'@arco-design/somelib'"),l.a.createElement("span",{className:"token punctuation"},";"))),l.a.createElement("ol",{start:"2"},l.a.createElement("li",null,"In the Demo file, import this dependency from ",l.a.createElement("code",null,"arcoDemoVendor.js"),".")),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-javascript"},l.a.createElement("span",{className:"token comment"},"// basic.jsx"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword module"},"import")," ",l.a.createElement("span",{className:"token imports"},l.a.createElement("span",{className:"token maybe-class-name"},"Component"))," ",l.a.createElement("span",{className:"token keyword module"},"from"),l.a.createElement("span",{className:"token string"},"'@arco-design/my-material'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword module"},"import")," ",l.a.createElement("span",{className:"token imports"},l.a.createElement("span",{className:"token punctuation"},"{"),"myDependency",l.a.createElement("span",{className:"token punctuation"},"}"))," ",l.a.createElement("span",{className:"token keyword module"},"from"),l.a.createElement("span",{className:"token string"},"'./arcoDemoVendor'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword module"},"export")," ",l.a.createElement("span",{className:"token keyword module"},"default")," ",l.a.createElement("span",{className:"token punctuation"},"("),l.a.createElement("span",{className:"token punctuation"},")")," ",l.a.createElement("span",{className:"token arrow operator"},"=>")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token keyword control-flow"},"return")," ",l.a.createElement("span",{className:"token tag"},l.a.createElement("span",{className:"token tag"},l.a.createElement("span",{className:"token punctuation"},"<"),l.a.createElement("span",{className:"token class-name"},"Component"))," ",l.a.createElement("span",{className:"token attr-name"},"option"),l.a.createElement("span",{className:"token script language-javascript"},l.a.createElement("span",{className:"token script-punctuation punctuation"},"="),l.a.createElement("span",{className:"token punctuation"},"{"),"myDependency",l.a.createElement("span",{className:"token punctuation"},"}"))," ",l.a.createElement("span",{className:"token punctuation"},"/>")),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("span",{className:"token punctuation"},";"))),l.a.createElement("ol",{start:"3"},l.a.createElement("li",null,"Make sure that @arco-design/arco-scripts version >= 1.17.1, and the arcoDemoVendor entry is included in the configuration built by Webpack.")),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-javascript"},l.a.createElement("span",{className:"token comment"},"// Material construction configuration in Lerna Monorepo template"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword"},"const")," fs ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token function"},"require"),l.a.createElement("span",{className:"token punctuation"},"("),l.a.createElement("span",{className:"token string"},"'fs'"),l.a.createElement("span",{className:"token punctuation"},")"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword"},"const")," path ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token function"},"require"),l.a.createElement("span",{className:"token punctuation"},"("),l.a.createElement("span",{className:"token string"},"'path'"),l.a.createElement("span",{className:"token punctuation"},")"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword"},"const")," merge ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token function"},"require"),l.a.createElement("span",{className:"token punctuation"},"("),l.a.createElement("span",{className:"token string"},"'webpack-merge'"),l.a.createElement("span",{className:"token punctuation"},")"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword"},"const")," ",l.a.createElement("span",{className:"token punctuation"},"{"),"webpack",l.a.createElement("span",{className:"token punctuation"},"}")," ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token function"},"require"),l.a.createElement("span",{className:"token punctuation"},"("),l.a.createElement("span",{className:"token string"},"'../../../arco.scripts.config'"),l.a.createElement("span",{className:"token punctuation"},")"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),"module",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token method-variable function-variable method function property-access"},"exports")," ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token punctuation"},"("),l.a.createElement("span",{className:"token parameter"},"config"),l.a.createElement("span",{className:"token punctuation"},")")," ",l.a.createElement("span",{className:"token arrow operator"},"=>")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token keyword control-flow"},"if")," ",l.a.createElement("span",{className:"token punctuation"},"("),"webpack",l.a.createElement("span",{className:"token punctuation"},")")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"    ",l.a.createElement("span",{className:"token keyword"},"const")," commonConfig ",l.a.createElement("span",{className:"token operator"},"="),l.a.createElement("br",null),"      ",l.a.createElement("span",{className:"token keyword"},"typeof")," webpack ",l.a.createElement("span",{className:"token operator"},"==="),l.a.createElement("span",{className:"token string"},"'function'"),l.a.createElement("br",null),"        ",l.a.createElement("span",{className:"token operator"},"?")," webpack",l.a.createElement("br",null),"        ",l.a.createElement("span",{className:"token operator"},":")," ",l.a.createElement("span",{className:"token keyword"},"typeof")," webpack",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token property-access"},"component")," ",l.a.createElement("span",{className:"token operator"},"==="),l.a.createElement("span",{className:"token string"},"'function'"),l.a.createElement("br",null),"        ",l.a.createElement("span",{className:"token operator"},"?")," webpack",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token method-variable function-variable method function property-access"},"component"),l.a.createElement("br",null),"        ",l.a.createElement("span",{className:"token operator"},":")," ",l.a.createElement("span",{className:"token punctuation"},"("),l.a.createElement("span",{className:"token punctuation"},")")," ",l.a.createElement("span",{className:"token arrow operator"},"=>")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),"    config ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token function"},"commonConfig"),l.a.createElement("span",{className:"token punctuation"},"("),"config",l.a.createElement("span",{className:"token punctuation"},")")," ",l.a.createElement("span",{className:"token operator"},"||")," config",l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("br",null),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token keyword"},"const")," entry ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"    arco",l.a.createElement("span",{className:"token operator"},":")," path",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token method function property-access"},"resolve"),l.a.createElement("span",{className:"token punctuation"},"("),"__dirname",l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("span",{className:"token string"},"'../src/index.tsx'"),l.a.createElement("span",{className:"token punctuation"},")"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token keyword"},"const")," demoVendorPath ",l.a.createElement("span",{className:"token operator"},"=")," path",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token method function property-access"},"resolve"),l.a.createElement("span",{className:"token punctuation"},"("),"__dirname",l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("span",{className:"token string"},"'../src/demo/arcoDemoVendor.js'"),l.a.createElement("span",{className:"token punctuation"},")"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token keyword control-flow"},"if")," ",l.a.createElement("span",{className:"token punctuation"},"("),"fs",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token method function property-access"},"existsSync"),l.a.createElement("span",{className:"token punctuation"},"("),"demoVendorPath",l.a.createElement("span",{className:"token punctuation"},")"),l.a.createElement("span",{className:"token punctuation"},")")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"    entry",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token property-access"},"arcoDemoVendor")," ",l.a.createElement("span",{className:"token operator"},"=")," demoVendorPath",l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("br",null),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token keyword control-flow"},"return")," ",l.a.createElement("span",{className:"token function"},"merge"),l.a.createElement("span",{className:"token punctuation"},"("),"config",l.a.createElement("span",{className:"token punctuation"},",")," ",l.a.createElement("span",{className:"token punctuation"},"{"),"entry ",l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("span",{className:"token punctuation"},")"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("span",{className:"token punctuation"},";"))),l.a.createElement("h2",{id:"preview-in-development"},l.a.createElement("strong",null,"Preview in development")),l.a.createElement("p",null,"In order to quickly view the effect of code modification during development, arco-scripts provides the following commands to monitor code changes for automatic construction:"),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-bash"},l.a.createElement("span",{className:"token comment"},"# Monitoring component code changes-tsc & gulp-less"),l.a.createElement("br",null),"arco-scripts dev:component")),l.a.createElement("p",null,"In the official template project, you also need to combine Storybook to preview and debug components in real time."))}}}]);