(window.webpackJsonp=window.webpackJsonp||[]).push([[307],{1144:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(1166);a.default=function(e){const[a,t]=Object(n.useState)(!1),[s,r]=Object(n.useState)(!1);localStorage.getItem("arco-lang");return l.a.createElement("span",{style:e.style,className:"markdown-body"},l.a.createElement(c.a,null,l.a.createElement("title",null,"Docgen | ArcoDesign"),l.a.createElement("meta",{name:"description",content:"Learn how to automatically generate material API documentation."}),l.a.createElement("meta",{property:"og:title",content:"Docgen | ArcoDesign"}),l.a.createElement("meta",{property:"og:description",content:"Learn how to automatically generate material API documentation."})),l.a.createElement("div",{className:"ac-nav-intro"},l.a.createElement("p",null,"Material Market"),l.a.createElement("h1",{id:"docgen"},"Docgen"),l.a.createElement("p",null,"Learn how to automatically generate material API documentation.")),l.a.createElement("p",null,l.a.createElement("em",null,"Auto translate by google.")),l.a.createElement("p",null,l.a.createElement("em",null,"This article is based on the project created by Arco's official material template")),l.a.createElement("h2",{id:"directory-structure"},"Directory Structure"),l.a.createElement("p",null,"The material document contains two aspects: component Props parameters and sample code. Through arco-scripts, a complete material document can be automatically generated. First, the material ",l.a.createElement("code",null,"/src")," directory structure is as follows:"),l.a.createElement("pre",null,l.a.createElement("code",null,"─ ",l.a.createElement("span",{className:"token operator"},"/"),"src",l.a.createElement("br",null),"  ├── __test__",l.a.createElement("br",null),"  ├── TEMPLATE",l.a.createElement("span",{className:"token punctuation"},"."),"md",l.a.createElement("br",null),"  ├── demo",l.a.createElement("br",null),"  │ └── basic",l.a.createElement("span",{className:"token punctuation"},"."),"jsx",l.a.createElement("br",null),"  ├── index",l.a.createElement("span",{className:"token punctuation"},"."),"tsx",l.a.createElement("br",null),"  └── style")),l.a.createElement("p",null,"You need to pay attention to ",l.a.createElement("code",null,"TEMPLATE.md")," and ",l.a.createElement("code",null,"demo"),". In projects using TypeScript, arco-scripts can quickly generate component interface documentation by extracting the content of comments. ",l.a.createElement("code",null,"TEMPLATE.md")," is a template generated by the document. Its contents are as follows:"),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-markdown"},l.a.createElement("span",{className:"token front-matter-block"},l.a.createElement("span",{className:"token punctuation"},"---"),l.a.createElement("br",null),l.a.createElement("span",{className:"token font-matter yaml language-yaml"},l.a.createElement("span",{className:"token key atrule"},"file"),l.a.createElement("span",{className:"token punctuation"},":")," index"),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"---")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token title important"},l.a.createElement("span",{className:"token punctuation"},"#")," TooltipButton"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token title important"},l.a.createElement("span",{className:"token punctuation"},"##")," Properties/Props"),l.a.createElement("br",null),l.a.createElement("br",null),"%%Props%%",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token title important"},l.a.createElement("span",{className:"token punctuation"},"##")," Demos"),l.a.createElement("br",null),l.a.createElement("br",null),"%%Demos%%")),l.a.createElement("p",null,"Among them, ",l.a.createElement("code",null,"%%Props%%")," will be filled with the ",l.a.createElement("code",null,"Props")," parameters of the component after the ",l.a.createElement("code",null,"docgen")," command, and ",l.a.createElement("code",null,"%%Demos%%")," will be filled with the Demo code in ",l.a.createElement("code",null,"/src/demo"),". The final generated document is as follows:"),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-markdown"},l.a.createElement("span",{className:"token title important"},l.a.createElement("span",{className:"token punctuation"},"#")," TooltipButton"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token title important"},l.a.createElement("span",{className:"token punctuation"},"##")," Properties/Props"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token title important"},l.a.createElement("span",{className:"token punctuation"},"###")," `<TooltipButton>`"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token table"},l.a.createElement("span",{className:"token table-header-row"},l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("span",{className:"token table-header important"}," Parameter name "),l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("span",{className:"token table-header important"}," Description "),l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("span",{className:"token table-header important"}," Type "),l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("span",{className:"token table-header important"}," Default value "),l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("br",null)),l.a.createElement("span",{className:"token table-line"},l.a.createElement("span",{className:"token punctuation"},"|")," ",l.a.createElement("span",{className:"token punctuation"},"------")," ",l.a.createElement("span",{className:"token punctuation"},"|")," ",l.a.createElement("span",{className:"token punctuation"},":--------:")," ",l.a.createElement("span",{className:"token punctuation"},"|")," ",l.a.createElement("span",{className:"token punctuation"},":---------:")," ",l.a.createElement("span",{className:"token punctuation"},"|")," ",l.a.createElement("span",{className:"token punctuation"},"-----:")," ",l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("br",null)),l.a.createElement("span",{className:"token table-data-rows"},l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("span",{className:"token table-data"}," title "),l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("span",{className:"token table-data"}," Tip of the button "),l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("span",{className:"token table-data"}," ",l.a.createElement("span",{className:"token code-snippet code keyword"},"`ReactNode`")," "),l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("span",{className:"token table-data"}," ",l.a.createElement("span",{className:"token code-snippet code keyword"},"`-`")," "),l.a.createElement("span",{className:"token punctuation"},"|"),l.a.createElement("br",null))),l.a.createElement("br",null),l.a.createElement("span",{className:"token title important"},l.a.createElement("span",{className:"token punctuation"},"##")," Demos"),l.a.createElement("br",null),l.a.createElement("br",null),"~~~jsx",l.a.createElement("br",null),"import React from'react';",l.a.createElement("br",null),"import TooltipButton from'@arco-design/rc-xxx';",l.a.createElement("br",null),l.a.createElement("br",null),"/*",l.a.createElement("span",{className:"token italic"},l.a.createElement("span",{className:"token punctuation"},"*"),l.a.createElement("span",{className:"token content"},l.a.createElement("br",null)," "),l.a.createElement("span",{className:"token punctuation"},"*"))," Basic usage",l.a.createElement("br",null)," */",l.a.createElement("br",null),"export default () => ","{",l.a.createElement("br",null),"  return ",l.a.createElement("span",{className:"token tag"},l.a.createElement("span",{className:"token tag"},l.a.createElement("span",{className:"token punctuation"},"<"),"TooltipButton")," ",l.a.createElement("span",{className:"token attr-name"},"title"),l.a.createElement("span",{className:"token attr-value"},l.a.createElement("span",{className:"token punctuation attr-equals"},"="),l.a.createElement("span",{className:"token punctuation"},'"'),"tooltip title",l.a.createElement("span",{className:"token punctuation"},'"')),l.a.createElement("span",{className:"token punctuation"},">")),"Demo Basic",l.a.createElement("span",{className:"token tag"},l.a.createElement("span",{className:"token tag"},l.a.createElement("span",{className:"token punctuation"},"</"),"TooltipButton"),l.a.createElement("span",{className:"token punctuation"},">")),";",l.a.createElement("br",null),"}",";",l.a.createElement("br",null),"~~~")),l.a.createElement("h2",{id:"write-a-comment"},"Write a comment"),l.a.createElement("p",null,"The ",l.a.createElement("code",null,"docgen")," command generates documentation by parsing the comments in the TypeScript interface, so you need to write comments for the interface in the form of ",l.a.createElement("a",{href:"https://tsdoc.org/"},"TSDoc"),"."),l.a.createElement("p",null,"arco-scripts starts from ",l.a.createElement("strong",null,"1.23.0")," and provides two optional low-level tools (",l.a.createElement("a",{href:"https://www.npmjs.com/package/ts-document"},"ts-document"),", ",l.a.createElement("a",{href:"https://www.npmjs.com/package/react-docgen-typescript"},"react-docgen -typescript"),") is used for TS parsing. These two tools correspond to two different annotation writing methods. You can specify the tool by modifying ",l.a.createElement("code",null,".config/docgen.config.js")," in the project root directory:"),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-javascript"},l.a.createElement("span",{className:"token comment"},"// .config/docgen.config.js"),l.a.createElement("br",null),"module",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token method-variable function-variable method function property-access"},"exports")," ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token punctuation"},"("),l.a.createElement("span",{className:"token parameter"},"config"),l.a.createElement("span",{className:"token punctuation"},")")," ",l.a.createElement("span",{className:"token arrow operator"},"=>")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token spread operator"},"..."),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token comment"},"// ['react-docgen-typescript'] is the default value"),l.a.createElement("br",null),"  config",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token property-access"},"tsParseTool")," ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token punctuation"},"["),l.a.createElement("span",{className:"token string"},"'ts-document'"),l.a.createElement("span",{className:"token punctuation"},"]"),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"}"))),l.a.createElement("p",null,"We ",l.a.createElement("strong",null,"recommend")," to use ",l.a.createElement("code",null,"ts-document"),", which is an Arco self-developed tool with better syntax compatibility and dual language support. When you read this document, all newly created material items have used ",l.a.createElement("code",null,"ts-document")," for API parameter extraction by default."),l.a.createElement("p",null,"In the project created by the Arco official material template, you don't have to bother to deal with document generation, we will generate a new document before ",l.a.createElement("code",null,"npm publish")," and upload it to NPM."),l.a.createElement("h3",{id:"use-ts-document"},"Use ts-document"),l.a.createElement("p",null,"Write the comment in the following way, all interface or type declarations with ",l.a.createElement("code",null,"@title")," will be extracted. The following tags are available for attribute annotations:"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("code",null,"@zh")," Chinese description of this property"),l.a.createElement("li",null,l.a.createElement("code",null,"@en")," English description of this property (optional)"),l.a.createElement("li",null,l.a.createElement("code",null,"@defaultValue")," The default value of this property (optional)"),l.a.createElement("li",null,l.a.createElement("code",null,"@version")," From which version this property was added (optional)")),l.a.createElement("p",null,"When ",l.a.createElement("code",null,"@zh")," or ",l.a.createElement("code",null,"@en")," is missing, the content in ",l.a.createElement("code",null,"/** Some comment */")," will be extracted as the property description."),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-typescript"},l.a.createElement("span",{className:"token doc-comment comment"},"/**",l.a.createElement("br",null)," * ",l.a.createElement("span",{className:"token keyword"},"@title")," Button (Required, only the interface or type described with `title` will be collected)",l.a.createElement("br",null)," */"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword"},"interface")," ",l.a.createElement("span",{className:"token class-name"},"ButtonProps")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token doc-comment comment"},"/**",l.a.createElement("br",null),"   * ",l.a.createElement("span",{className:"token keyword"},"@zh")," button size (Chinese description of the attribute)",l.a.createElement("br",null),"   * ",l.a.createElement("span",{className:"token keyword"},"@en")," Size of Button (optional, English description of the attribute)",l.a.createElement("br",null),"   * ",l.a.createElement("span",{className:"token keyword"},"@version")," 1.2.0 (optional, in which version the new attributes are supported)",l.a.createElement("br",null),"   * ",l.a.createElement("span",{className:"token keyword"},"@defaultValue"),"'default' (optional, the default value of the attribute)",l.a.createElement("br",null),"   */"),l.a.createElement("br",null),"  size",l.a.createElement("span",{className:"token operator"},"?"),l.a.createElement("span",{className:"token operator"},":"),l.a.createElement("span",{className:"token string"},"'mini'")," ",l.a.createElement("span",{className:"token operator"},"|"),l.a.createElement("span",{className:"token string"},"'small'")," ",l.a.createElement("span",{className:"token operator"},"|"),l.a.createElement("span",{className:"token string"},"'default'")," ",l.a.createElement("span",{className:"token operator"},"|"),l.a.createElement("span",{className:"token string"},"'large'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token doc-comment comment"},"/**",l.a.createElement("br",null),"   * ",l.a.createElement("span",{className:"token keyword"},"@zh")," button state",l.a.createElement("br",null),"   * ",l.a.createElement("span",{className:"token keyword"},"@en")," Status of Button",l.a.createElement("br",null),"   */"),l.a.createElement("br",null),"  status",l.a.createElement("span",{className:"token operator"},"?"),l.a.createElement("span",{className:"token operator"},":"),l.a.createElement("span",{className:"token string"},"'danger'")," ",l.a.createElement("span",{className:"token operator"},"|"),l.a.createElement("span",{className:"token string"},"'error'")," ",l.a.createElement("span",{className:"token operator"},"|"),l.a.createElement("span",{className:"token string"},"'success'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"}"))),l.a.createElement("p",null,"If you want to generate dual-language documents, you can configure ",l.a.createElement("code",null,"docgen.config.js")," as follows:"),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-javascript"},l.a.createElement("span",{className:"token comment"},"// .config/docgen.config.js"),l.a.createElement("br",null),"module",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token method-variable function-variable method function property-access"},"exports")," ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token punctuation"},"("),l.a.createElement("span",{className:"token parameter"},"config"),l.a.createElement("span",{className:"token punctuation"},")")," ",l.a.createElement("span",{className:"token arrow operator"},"=>")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"  config",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token property-access"},"tsParseTool")," ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token punctuation"},"["),l.a.createElement("span",{className:"token string"},"'ts-document'"),l.a.createElement("span",{className:"token punctuation"},"]"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),"  config",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token property-access"},"languages")," ​​",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token punctuation"},"["),l.a.createElement("span",{className:"token string"},"'zh-CN'"),l.a.createElement("span",{className:"token punctuation"},","),l.a.createElement("span",{className:"token string"},"'en-US'"),l.a.createElement("span",{className:"token punctuation"},"]"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token comment"},"// Need to prepare TEMPLATE.zh-CN.md and TEMPLATE.en-US.md separately"),l.a.createElement("br",null),"  config",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token property-access"},"template")," ",l.a.createElement("span",{className:"token operator"},"="),l.a.createElement("span",{className:"token string"},"'TEMPLATE.[language].md'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token comment"},"// You can also share the same template file in both Chinese and English (default value)"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token comment"},"// config.template ='TEMPLATE.md';"),l.a.createElement("br",null),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token comment"},"// Will output two files README.zh-CN.md and README.en-US.md"),l.a.createElement("br",null),"  config",l.a.createElement("span",{className:"token punctuation"},"."),l.a.createElement("span",{className:"token property-access"},"outputFileName")," ",l.a.createElement("span",{className:"token operator"},"="),l.a.createElement("span",{className:"token string"},"'README.[language].md'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"}"))),l.a.createElement("h3",{id:"use-react-docge-typescript"},"Use react-docge-typescript"),l.a.createElement("p",null,"Use the following method to write notes, you need to pay attention to the following aspects:"),l.a.createElement("ul",null,l.a.createElement("li",null,"Comments must be written in the form of TSDoc (Single-line comments in the form of // cannot be extracted)"),l.a.createElement("li",null,"The components that need to be extracted must be exported in the form of ",l.a.createElement("code",null,"export const Component = (props: ComponentProps) => ","{","}"),", otherwise they will not be recognized by the tool;"),l.a.createElement("li",null,"The default value must be written in the form of ",l.a.createElement("code",null,"Component.defaultProps = ","{","}")," before it can be extracted by the tool."),l.a.createElement("li",null,"If you encounter other problems, please refer to the ",l.a.createElement("a",{href:"https://github.com/styleguidist/react-docgen-typescript/"},"react-docgen-typescript")," repository.")),l.a.createElement("pre",{className:"code_block"},l.a.createElement("code",{className:"language-typescript"},l.a.createElement("span",{className:"token keyword"},"interface")," ",l.a.createElement("span",{className:"token class-name"},"ButtonProps")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token doc-comment comment"},"/**",l.a.createElement("br",null),"   * Button size",l.a.createElement("br",null),"   */"),l.a.createElement("br",null),"  size",l.a.createElement("span",{className:"token operator"},"?"),l.a.createElement("span",{className:"token operator"},":"),l.a.createElement("span",{className:"token string"},"'mini'")," ",l.a.createElement("span",{className:"token operator"},"|"),l.a.createElement("span",{className:"token string"},"'small'")," ",l.a.createElement("span",{className:"token operator"},"|"),l.a.createElement("span",{className:"token string"},"'default'")," ",l.a.createElement("span",{className:"token operator"},"|"),l.a.createElement("span",{className:"token string"},"'large'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token doc-comment comment"},"/**",l.a.createElement("br",null),"   * Button state",l.a.createElement("br",null),"   */"),l.a.createElement("br",null),"  status",l.a.createElement("span",{className:"token operator"},"?"),l.a.createElement("span",{className:"token operator"},":"),l.a.createElement("span",{className:"token string"},"'danger'")," ",l.a.createElement("span",{className:"token operator"},"|"),l.a.createElement("span",{className:"token string"},"'error'")," ",l.a.createElement("span",{className:"token operator"},"|"),l.a.createElement("span",{className:"token string"},"'success'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"// Need to declare Button as const and export, otherwise the tool may not recognize"),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword"},"export")," ",l.a.createElement("span",{className:"token keyword"},"const")," ",l.a.createElement("span",{className:"token function-variable function"},"Button")," ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token punctuation"},"("),"props",l.a.createElement("span",{className:"token operator"},":")," ButtonProps",l.a.createElement("span",{className:"token punctuation"},")")," ",l.a.createElement("span",{className:"token operator"},"=>")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"  ",l.a.createElement("span",{className:"token operator"},"..."),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token comment"},"// Only the default value declared with defaultProps can be extracted by the tool"),l.a.createElement("br",null),"Button",l.a.createElement("span",{className:"token punctuation"},"."),"defaultProps ",l.a.createElement("span",{className:"token operator"},"=")," ",l.a.createElement("span",{className:"token punctuation"},"{"),l.a.createElement("br",null),"  size",l.a.createElement("span",{className:"token operator"},":"),l.a.createElement("span",{className:"token string"},"'default'"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("span",{className:"token punctuation"},"}"),l.a.createElement("span",{className:"token punctuation"},";"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"token keyword"},"export")," ",l.a.createElement("span",{className:"token keyword"},"default")," Button",l.a.createElement("span",{className:"token punctuation"},";"))),l.a.createElement("p",null,l.a.createElement("strong",null,"The react-docgen-typescript method does not support automatic generation of Chinese/English documents, and manual processing is required.")))}}}]);